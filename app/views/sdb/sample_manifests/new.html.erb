
<%= render partial: "side_links" %>
<%= page_title 'Sample Manifest', 'Create' %>

<%= semantic_form_for(@sample_manifest, html: {novalidate: false}) do |form| %>
  <%= form.inputs name: "Manifest Type" do %>
    <%= form.input :template, required: true, as: :select, prompt: 'Select a template', collection: @templates, input_html: { class: 'form-control'} %>
    <%= form.input :purpose,  as: :select, collection: @purposes, required: true, input_html: { class: 'form-control select2'}, label: 'purpose' unless @purposes.empty? %>
    <% if params[:asset_type].blank? %>
      <p class="help-block">Used for plate manifests only.</p>
    <% end %>
  <% end %>
  <%= form.inputs name: "Manifest For" do %>
    <%= form.input :study,  as: :select, prompt: 'Select a study', collection: @studies, required: true, input_html: { class: 'form-control select2'} %>
    <%= form.input :supplier,  as: :select, prompt: 'Select a supplier', collection: @suppliers, required: true, input_html: { class: 'form-control select2'} %>
  <% end %>

  <%= form.inputs name: "Barcodes" do %>
    <%= form.input :count, input_html: { size: 3, value: "1" }, label: count_label_for(params[:asset_type]) %>
    <% if params[:asset_type] == "tube_rack" %>
      <%= form.input :rack_size,  as: :select, prompt: 'Rack size', collection: @rack_sizes, required: true, input_html: { class: 'form-control select2'} %>
    <% end %>
    <%= form.input :barcode_printer,  as: :select, collection: @barcode_printers %>
    <%= form.input :only_first_label, as: :boolean, label: 'Print only the first label' %>
  <% end %>

  <%= form.actions do %>
    <%= form.action(:submit, as: :button, label: 'Create manifest and print labels', button_html: {  class: 'btn btn-success' }) %>
  <% end %>
<% end %>
