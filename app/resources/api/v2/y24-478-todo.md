Y24-478 learnings and possible future to-dos

- [ ] Add POST request tests to all `spec/resources/api/v2/..` files
- [ ] Add tests to check `tag_index` and `tag2_index` are not updatable in `spec/resources/api/v2/aliquot_resource_spec.rb`
- [ ] Create `spec/resources/api/v2/asset_audits_resource_spec.rb`
- [ ] Add more tests to ``spec/requests/api/v2/aliquots_spec.rb`
- [ ] Add relationships for `asset` to `app/resources/api/v2/asset_audit_resource.rb` (see `app/resources/api/v2/tube_from_tube_creation_resource.rb`)
- [ ] Add more tests to `spec/requests/api/v2/asset_audits_spec.rb`, specifically testing the new relationships alongside the use their respective attributes (see `spec/requests/api/v2/tube_from_tube_creations_spec.rb`), and that PATCH requests are denied.
- [ ] Use `except: %i[update]` in `routes.rb` or the access restrictions in `app/resources/api/v2/base_resource.rb` for `app/resources/api/v2/asset_audit_resource.rb`, instead of declaring `self.updatable_fields(_context)`.
- [ ] Same as above for `app/resources/api/v2/comment_resource.rb`
- [ ] Can `app/resources/api/v2/asset_resource.rb` be removed? It seems the Asset model `app/models/asset.rb` has been deprecated.
- [ ] Add relationships for `user` to `app/resources/api/v2/custom_metadatum_collection_resource.rb` (see `app/resources/api/v2/tube_from_tube_creation_resource.rb`)
- [ ] Can `app/resources/api/v2/fragment_resource.rb` be removed? There is no access to this resource
- [ ] Can `app/resources/api/v2/plate_template_resource.rb` be removed? GET requests are throwing an exception
- [ ] `app/resources/api/v2/lot_resource.rb` - add `received_at` attribute to resource
- [ ] `app/resources/api/v2/lot_resource.rb` - Fix `tag_layout_template` Possibly add `received_at` and any other required attributes to the resource too.
- [ ] Where resources are immutable, add readonly to attributes
- [ ] Remove `write_once: true` from any attributes and relationships where the resource is immutable (e.g `app/resources/api/v2/tag_resource.rb`, `app/resources/api/v2/lot_type_resource.rb`)
- [ ] `app/resources/api/v2/pick_list_resource.rb` - `links` should be read-only
- [ ] `app/resources/api/v2/plate_template_resource.rb` - is this endpoint required? It is possible to create a Plate Template with no attributes? Should it be immutable if there is nothing to create? Performing a GET request throws an exception.
- [ ] `app/resources/api/v2/pooled_plate_creation_resource.rb` - deprecate `child_purpose_uuid` attribute in favour of the `child_purpose` relationship.
- [ ] Make `app/resources/api/v2/tube_rack_status_resource.rb` immutable?
- [ ] deprecte `target_uuid` and add target relationship in a few resources
- [ ] Finish tests for all v2 api `spec/requests/api/v2/`
- [ ] `config/routes.rb` - Update v2 resources exceptions to reflect resources (e.g. `, except: %i[update]` for `lot`), and many more. Include all actions in the except block for immutable resources
- [ ] `app/resources/api/v2/primer_panel_resource.rb` - POST is broken as `snp_count` is a required attribute in the model, but not included in the resource.
- [ ] `app/resources/api/v2/purpose_resource.rb` - POST is broken as `target_type` is a required attribute in the model, but not included in the resource. `lifespan` is also not an allowed attribute

- [ ] `app/resources/api/v2/qc_result_resource.rb` - POST request breaks if Asset `barcode` or `uuid` is not provided in the `qc_results`, but neither are specified as an attribute in the resource. How does this work?
- [ ] `app/resources/api/v2/qc_result_resource.rb` - the `asset` relationship appears to be redundant. See comment.
- [ ] `app/resources/api/v2/qc_result_resource.rb` - other random attributes can be sent in the request body as it does not throw an error
- [ ] `app/resources/api/v2/qc_assay_resource.rb` returns a 201 created even when no record is created (when no qc_result objects are passed)
- [ ] `app/resources/api/v2/qc_assay_resource.rb` check if the `qc_results` relationship. See comment
- [ ] `app/resources/api/v2/qc_assay_resource.rb` - POST request breaks if Asset `barcode` or `uuid` is not provided in the `qc_results`, but neither are specified as an attribute in the resource. How does this work?
- [ ] `app/resources/api/v2/request_type_resource.rb` remove `write_once` on attributes as it is immutable
- [ ] `app/resources/api/v2/specific_tube_creation_resource.rb` - create `child_purposes` relationship? or fix `children` relationship
- [ ] `app/resources/api/v2/specific_tube_creation_resource.rb` update attributes/ relationships to write-once
- [ ] deprecate attributes which are defined via a `uuid` and that have a respective relationship
- [ ] `app/resources/api/v2/tag_group_adapter_type_resource.rb` states the `name` attribite is read only, but the model requires its presence
- [ ] `app/resources/api/v2/qc_assay_resource.rb` Figure out how to send an PATCH update to a QC Assay
- [ ] `app/resources/api/v2/receptacle_resource.rb` Figure out how to send an POST request
- [ ] `app/resources/api/v2/tag_resource.rb` Figure out how to send an POST request
- [ ] Come back to request/ request_metadata - doesnt appear to be able to successfully perform a POST via API
- [ ] Come back to sample/ sample_metadata - doesnt appear to be able to successfully perform a POST via API
- [ ] `app/resources/api/v2/tag_resource.rb` make fields/ relationships readonly
- [ ] `app/resources/api/v2/tube_purpose_resource.rb` doesnt error if `purpose_type` is anything other than `Tube::Purpose`, but object isn't created
- [ ] `app/resources/api/v2/tube_rack_status_resource.rb` make immutable?
- [ ] `app/resources/api/v2/volume_update_resource.rb` update routes file to not all updates
- [ ] `app/resources/api/v2/volume_update_resource.rb` created_by can be any string, update to user relationship
- [ ] `app/resources/api/v2/work_order_resource.rb` how to create POST request, order_type vs work_order_type resource and model mismatch on presence and requirement
- [ ] `app/resources/api/v2/qcable_resource.rb` cant POST, requires a `qcable_creator`
- [ ] `app/resources/api/v2/request_resource.rb` figure out how to POST
- [ ] `app/resources/api/v2/sample_resource.rb` figure out how to POST
